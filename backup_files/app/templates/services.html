{% extends "base.html" %}
{% block title %}IT Services & Solutions — {{ site_settings.get('company_name', 'Right On Repair') }}{% endblock %}
{% block meta_description %}Full-range IT services: cloud computing, cybersecurity, managed IT, software development,
and expert hardware repair.{% endblock %}
{% block og_title %}IT Services — {{ site_settings.get('company_name', 'Right On Repair') }}{% endblock %}
{% block meta_keywords %}IT services Orange County, managed IT services, cloud solutions, cybersecurity services,
software development services, technical repair services, laptop repair Orange County, MacBook repair, Windows laptop
repair{% endblock %}

{% block structured_data %}
<script nonce="{{ csp_nonce }}" type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "IT Services",
  "numberOfItems": {{ pro_services|length + repair_services|length }},
  "itemListElement": [
    {% for s in pro_services %}
    { "@type": "ListItem", "position": {{ loop.index }}, "item": { "@type": "Service", "name": {{ s.title | tojson }} } }{% if not loop.last or repair_services %},{% endif %}
    {% endfor %}
    {% for s in repair_services %}
    { "@type": "ListItem", "position": {{ pro_services|length + loop.index }}, "item": { "@type": "Service", "name": {{ s.title | tojson }} } }{% if not loop.last %},{% endif %}
    {% endfor %}
  ]
}
</script>
{% endblock %}

{% block content %}
<section class="page-header page-header--enhanced page-header--landing-tight">
  <div class="page-header-glow" aria-hidden="true"></div>
  <div class="page-header-glow-2" aria-hidden="true"></div>
  <div class="container">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{{ url_for('main.index') }}">Home</a></li>
        <li class="breadcrumb-item active">Services</li>
      </ol>
    </nav>
    <div class="hero-accent-icon"><i class="fa-solid fa-layer-group"></i></div>
    <div class="hero-meta-badge"><span class="pulse-dot"></span> {{ pro_services|length + repair_services|length }}
      Services Available</div>
    <h1 class="gradient-shimmer">{{ cb.get('header', {}).get('title', 'Our Services') }}</h1>
    {% include "_hero_slogan.html" %}
    <p>{{ cb.get('header', {}).get('subtitle', 'End-to-end technology solutions for modern businesses.') }}</p>
  </div>
</section>

<div class="services-page-clean">
  <section class="section-sm services-layout-intro">
    <div class="container">
      <div class="services-layout-panel reveal">
        <div class="services-layout-stats">
          <article class="services-layout-stat">
            <span>Professional IT</span>
            <strong>{{ pro_services|length }} Services</strong>
            <p>Strategy, security, cloud, and managed operations.</p>
          </article>
          <article class="services-layout-stat">
            <span>Technical Repair Services</span>
            <strong>{{ repair_services|length }} Services</strong>
            <p>Diagnostics, recovery, and certified hardware repairs.</p>
          </article>
        </div>
        <div class="services-layout-actions">
          <a href="#professional" class="services-layout-link"><i class="fa-solid fa-cube"></i> Browse Professional
            IT</a>
          <a href="#repair" class="services-layout-link"><i class="fa-solid fa-screwdriver-wrench"></i> Browse Technical
            Repair Services</a>
          <a href="{{ url_for('main.request_quote') }}" class="services-layout-link services-layout-link--cta"><i
              class="fa-solid fa-file-invoice-dollar"></i> Request Quote</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Professional IT Services -->
  <section class="section services-layout-section" id="professional">
    <div class="container">
      <div class="section-heading reveal services-layout-heading">
        <div class="section-label"><i class="fa-solid fa-cube"></i> {{ cb.get('professional_heading', {}).get('label',
          'Professional IT') }}</div>
        <h2>{{ cb.get('professional_heading', {}).get('title', 'Strategic Technology Solutions') }}</h2>
        <p>Comprehensive business technology programs built for uptime, security, and predictable growth.</p>
      </div>
      <div class="row g-4 services-card-grid">
        {% set colors = ['blue','purple','green','amber','rose','cyan'] %}
        {% for service in pro_services %}
        <div class="col-md-6 col-lg-4">
          <div class="service-card service-card--services-page reveal stagger-{{ loop.index }}">
            <div class="icon-wrap {{ colors[(loop.index0) % 6] }}"><i class="{{ service.icon_class }}"></i></div>
            <h3>{{ service.title }}</h3>
            <p>{{ (service.description or 'Comprehensive technology support for business reliability.') | truncate(100,
              False) }}</p>
            <a href="{{ url_for('main.service_detail', slug=service.slug) }}" class="card-link stretched-link"
              aria-label="Learn more about {{ service.title }}">Learn more <i class="fa-solid fa-arrow-right"></i></a>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </section>

  <div class="glow-line"></div>

  <!-- Technical Repair -->
  <section class="section section--alt services-layout-section" id="repair">
    <div class="container">
      <div class="section-heading reveal services-layout-heading">
        <div class="section-label"><i class="fa-solid fa-wrench"></i> {{ cb.get('repair_heading', {}).get('label',
          'Technical Repair Services') }}</div>
        <h2>{{ cb.get('repair_heading', {}).get('title', 'Expert Repair & Recovery') }}</h2>
        <p>Rapid, transparent repair workflows for laptops, phones, game consoles, and data-critical devices.</p>
      </div>
      <div class="row g-4 services-card-grid">
        {% set rcolors = ['cyan','rose','amber','green','purple','blue'] %}
        {% for service in repair_services %}
        <div class="col-md-6 col-lg-4">
          <div class="service-card service-card--services-page reveal stagger-{{ loop.index }}">
            <div class="icon-wrap {{ rcolors[(loop.index0) % 6] }}"><i class="{{ service.icon_class }}"></i></div>
            <h3>{{ service.title }}</h3>
            <p>{{ (service.description or 'Comprehensive technology support for business reliability.') | truncate(100,
              False) }}</p>
            <a href="{{ url_for('main.service_detail', slug=service.slug) }}" class="card-link stretched-link"
              aria-label="Learn more about {{ service.title }}">Learn more <i class="fa-solid fa-arrow-right"></i></a>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="section-sm section-bottom-spacious">
    <div class="cta-section cta-section--services reveal-scale">
      <div class="cta-inner">
        <h2>{{ cb.get('cta', {}).get('title', 'Need Remote Support or a Quote?') }}</h2>
        <p>{{ cb.get('cta', {}).get('subtitle', 'Choose remote assistance or request scoped pricing for your business.')
          }}</p>
        <div class="cta-actions cta-actions-dual">
          {% if site_settings.get('phone') %}
          <a href="tel:{{ site_settings.phone | replace(' ', '') | replace('(', '') | replace(')', '') | replace('-', '') }}"
            class="btn btn-call"><i class="fa-solid fa-phone"></i> Call Now</a>
          {% endif %}
          <a href="{{ url_for('main.remote_support') }}" class="btn btn-remote-support"><i
              class="fa-solid fa-life-ring"></i> Remote Support</a>
          <a href="{{ url_for('main.request_quote') }}" class="btn btn-quote"><i
              class="fa-solid fa-file-invoice-dollar"></i> Request Quote</a>
          <a href="{{ url_for('main.contact', subject='Support Message') }}" class="btn btn-danger"><i
              class="fa-solid fa-envelope"></i> Send Message</a>
        </div>
      </div>
    </div>
  </section>
</div>

{% endblock %}

{% block scripts %}
{{ super() }}
<script nonce="{{ csp_nonce }}">
  const serviceType = new URLSearchParams(window.location.search).get('type');
  const hash = window.location.hash;
  if (hash === '#repair') {
    setTimeout(() => document.getElementById('repair')?.scrollIntoView({ behavior: 'smooth' }), 300);
  }
  if (serviceType === 'professional') {
    setTimeout(() => document.getElementById('professional')?.scrollIntoView({ behavior: 'smooth' }), 300);
  }
</script>
{% endblock %}